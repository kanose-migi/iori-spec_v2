{
  "version": "0.1.0",
  "generated_at": "2025-12-07T11:42:37Z",
  "root": "/home/teika/projects/iori-spec/iori-spec",
  "nodes": [
    {
      "id": "ARCH-900",
      "kind": "architecture",
      "scope": "tooling.cli",
      "status": "draft",
      "spec_title": "ARCH-900: iori-spec Tooling Core — Python Package Architecture",
      "role": "arch",
      "file": "architecture/ARCH-900_tooling_core.md",
      "llm_brief": "- role: このドキュメントは、`iori-spec` の **Python 実装レベルの箱（パッケージ構成と依存関係）** を定義する\n  アーキテクチャ仕様です。\n- llm_action: あなた（LLM）は、`iori-spec` の CLI コマンドや IF 実装コードを生成するとき、\n  この ARCH-900 を **「どのモジュールに何を書くか」「どのレイヤに依存してよいか」** を判断するための\n  ガイドラインとして参照してください。",
      "summary": null,
      "trace": {
        "req": [
          "REQ-800"
        ],
        "if": [
          "IF-910",
          "IF-920",
          "IF-930",
          "IF-940",
          "IF-950",
          "IF-960",
          "IF-970"
        ],
        "data": [
          "DATA-900",
          "DATA-901",
          "DATA-904",
          "DATA-905",
          "DATA-906",
          "DATA-907",
          "DATA-910"
        ]
      },
      "dp": {
        "consumes": [
          "DATA-910"
        ],
        "inputs": [
          "reference/iori_spec_config.yaml",
          "reference/spec_section_schema.yaml"
        ]
      },
      "doc": {
        "read_next": [
          "requirements/REQ-800_tooling_cli.md",
          "data_contracts/DATA-910_iori_spec_config.md",
          "interfaces/IF-910_spec_index_builder.md",
          "interfaces/IF-920_lint_core.md",
          "interfaces/IF-930_trace_lint.md",
          "interfaces/IF-940_search_specs.md",
          "interfaces/IF-950_impact_analyzer.md",
          "interfaces/IF-960_context_builder.md",
          "interfaces/IF-970_prompt_bundle_builder.md"
        ],
        "see_also": [
          "dev-plan.md",
          "reference/iori_spec_guide.md"
        ]
      },
      "hash": "5ce1ccb62b0fdeb7296a519abcd889c49c983d80ca1646e9abd784b607bd3d85",
      "frontmatter_range": {
        "start": 1,
        "end": 53
      }
    },
    {
      "id": "DATA-900",
      "kind": "data_contracts",
      "scope": "tooling.spec_index",
      "status": "draft",
      "spec_title": "DATA-900: Spec Index — spec_index.json",
      "role": "data",
      "file": "data_contracts/DATA-900_spec_index.md",
      "llm_brief": "- role: このファイルは、`iori-spec` が管理する仕様群をノードとして一覧化した **spec カタログ（インデックス）のデータ契約**です。\n- llm_action: `iori-spec index` コマンドや、それに相当する Python モジュールを **設計・実装・リファクタリングする際の「出力フォーマット仕様」**として、この data_contract を参照してください。spec_index.json を直接生成するのではなく、「ここに定義された構造に厳密に従うコード」を作ることが目的です。",
      "summary": "- `spec_index.json` は、`iori-spec` リポジトリ内の ID 付き仕様ファイルをすべてノードとして列挙する **インデックスファイル**である。\n- 各ノードは、\n  - `id / kind / scope / status / spec_title / role / file`\n  - `trace`（REQ / IF / DATA / TEST / TASK の論理関係）\n  - `dp`（IF⇄DATA のビルド依存関係）",
      "trace": null,
      "dp": null,
      "doc": {
        "read_next": [
          "DATA-901"
        ],
        "see_also": [
          "reference/iori_spec_guide.md",
          "impl_notes/spec_command.md"
        ]
      },
      "hash": "f3add6b877e2b8268c55fe021ad6f5157690c71078d01dcd607565efc8fa5198",
      "frontmatter_range": {
        "start": 1,
        "end": 30
      }
    },
    {
      "id": "DATA-901",
      "kind": "data_contracts",
      "scope": "tooling.section_schema",
      "status": "draft",
      "spec_title": "DATA-901: Spec Section Schema — spec_section_schema.yaml",
      "role": "data",
      "file": "data_contracts/DATA-901_spec_section_schema.md",
      "llm_brief": "- role: このファイルは、`kind` ごとに「どのセクション見出しを必須とするか」「どのセクションを LLM 用コンテキストとして抽出するか」に加えて、**各セクションの意図・記載内容・LLM への指示（ヒント）** を定義するセクションスキーマの data_contract です。\n- llm_action: `iori-spec lint` や `iori-spec context` など、仕様書の構造チェックやコンテキスト抽出を行うモジュール、あるいは将来の scaffold/prompt 系モジュールを **設計・実装・変更するとき**に、このスキーマを参照してください。`spec_section_schema.yaml` 自体を生成するのではなく、「ここに定義されたルール（構造 + 意味）を読み取り適用するコード」を書くことが目的です。",
      "summary": "- `spec_section_schema.yaml` は、kind ごとに **「どの見出しが必須か」「どの見出しを LLM に渡すか」** に加え、\n  **「各セクションの意図・記載すべき内容・LLM への指示」** を定義するための YAML ファイルである。\n- `rules[]` にセクションルールを 1 件ずつ定義し、\n  - `heading.level` / `heading.text` で見出しを特定し、\n  - `required` / `multiple` / `tool_source` / `order` で振る舞いを指定し、",
      "trace": {
        "data": [
          "DATA-900"
        ]
      },
      "dp": {
        "consumes": [
          "DATA-900"
        ]
      },
      "doc": {
        "read_next": [
          "DATA-900"
        ],
        "see_also": [
          "reference/iori_spec_guide.md",
          "impl_notes/spec_template.md"
        ]
      },
      "hash": "560c8539310b7182f02f34feaa09f1cd96a6b145a9c89aa315a3d807e05edccb",
      "frontmatter_range": {
        "start": 1,
        "end": 32
      }
    },
    {
      "id": "DATA-904",
      "kind": "data_contracts",
      "scope": "tooling.search",
      "status": "draft",
      "spec_title": "DATA-904: Search Result — SearchHit List (JSON)",
      "role": "data",
      "file": "data_contracts/DATA-904_search_result.md",
      "llm_brief": "- role: このファイルは、`iori-spec search` コマンドや IF-940（Search Specs）が生成する  \n  **「検索結果（SearchHit の一覧）」のデータ構造**を定義する data_contract です。\n- llm_action: あなた（LLM）は IF-940 を実装するとき、この data_contract を  \n  **「search コマンドの JSON 出力／Python 戻り値のフォーマット」**として参照し、  \n  ここで定義されたフィールドを持つ `SearchHit` の配列を返すコードを書いてください。",
      "summary": "- search_result.json は **SearchHit の配列**として表現される。\n- 各 SearchHit は少なくとも：\n\n  - `id` / `file` / `kind` / `scope` / `role`\n  - `spec_title`",
      "trace": {
        "if": [
          "IF-940"
        ],
        "data": [
          "DATA-900"
        ]
      },
      "dp": {
        "produces": [
          "DATA-904"
        ],
        "produced_by": [
          "IF-940"
        ],
        "consumes": [
          "DATA-900"
        ],
        "inputs": [
          "iori_spec_config.yaml",
          "Markdown specs (*.md)"
        ]
      },
      "doc": {
        "read_next": [
          "DATA-900",
          "interfaces/IF-940_search_specs.md"
        ],
        "see_also": [
          "DATA-902_lint_result.md",
          "DATA-905_context_bundle.md",
          "impl_notes/spec_command.md"
        ]
      },
      "hash": "2af15a21d4d7847e2c46607090d15e054f22d81defe40d516df931a07bc1a77c",
      "frontmatter_range": {
        "start": 1,
        "end": 36
      }
    },
    {
      "id": "DATA-905",
      "kind": "data_contracts",
      "scope": "tooling.context",
      "status": "draft",
      "spec_title": "DATA-905: Context Bundle — Spec IDs → LLM Context Bundle (JSON)",
      "role": "data",
      "file": "data_contracts/DATA-905_context_bundle.md",
      "llm_brief": "- role: このファイルは、`iori-spec context` コマンドや IF-960（Context Builder）が生成する  \n  **「LLM に渡すためのコンテキストバンドル」のデータ構造**を定義する data_contract です。\n- llm_action: あなた（LLM）は IF-960 を実装するとき、この data_contract を  \n  **「context コマンドの JSON 出力／Python 戻り値のフォーマット」**として参照し、  \n  ここで定義された構造を持つ `ContextBundle` オブジェクトを返すコードを書いてください。",
      "summary": "- **ContextBundle** は「どの ID（seed_ids）を起点に」「どの戦略・条件で」\n  「どの spec のどのセクションを」「どれくらいのトークン量で」LLM に渡すかを表現する。\n- 構造は：\n\n  - `ContextBundle` … 全体のメタ情報＋ `items[]`",
      "trace": {
        "if": [
          "IF-960"
        ],
        "data": [
          "DATA-900",
          "DATA-901"
        ]
      },
      "dp": {
        "produces": [
          "DATA-905"
        ],
        "produced_by": [
          "IF-960"
        ],
        "consumes": [
          "DATA-900",
          "DATA-901"
        ],
        "inputs": [
          "iori_spec_config.yaml",
          "Markdown specs (*.md)"
        ]
      },
      "doc": {
        "read_next": [
          "DATA-900",
          "DATA-901",
          "interfaces/IF-960_context_builder.md"
        ],
        "see_also": [
          "impl_notes/spec_command.md"
        ]
      },
      "hash": "70e9e48796011762f0f25e60adfd978e80daf733e7be401aca31c528a01ed491",
      "frontmatter_range": {
        "start": 1,
        "end": 37
      }
    },
    {
      "id": "DATA-906",
      "kind": "data_contracts",
      "scope": "tooling.impact",
      "status": "draft",
      "spec_title": "DATA-906: Impact Report — Changed IDs → Impacted Specs (JSON)",
      "role": "data",
      "file": "data_contracts/DATA-906_impact_report.md",
      "llm_brief": "- role: このファイルは、`iori-spec impact` コマンドや IF-950（Impact Analyzer）が生成する  \n  **「影響範囲レポート（ImpactReport）」のデータ構造**を定義する data_contract です。\n- llm_action: あなた（LLM）は IF-950 を実装するとき、この data_contract を  \n  **「impact コマンドの JSON 出力／Python 戻り値のフォーマット」**として参照し、  \n  ここで定義された構造を持つ `ImpactReport` オブジェクトを返すコードを書いてください。",
      "summary": "- **ImpactReport** は、「どの ID の変更を起点に」「どの方向・距離で」\n  「どの spec が影響を受けるとみなされるか」を一覧するレポート。\n- 構造は：\n\n  - `ImpactReport` … 実行条件＋ `nodes[]`",
      "trace": {
        "if": [
          "IF-950"
        ],
        "data": [
          "DATA-900"
        ]
      },
      "dp": {
        "produces": [
          "DATA-906"
        ],
        "produced_by": [
          "IF-950"
        ],
        "consumes": [
          "DATA-900"
        ],
        "inputs": [
          "iori_spec_config.yaml",
          "Markdown specs (*.md)"
        ]
      },
      "doc": {
        "read_next": [
          "DATA-900",
          "interfaces/IF-950_impact_analyzer.md"
        ],
        "see_also": [
          "DATA-902_lint_result.md",
          "DATA-905_context_bundle.md",
          "impl_notes/spec_command.md"
        ]
      },
      "hash": "ec22b021a589364e251b86557764f1b3d4be1105ffc8282786d7e3e53b7aca88",
      "frontmatter_range": {
        "start": 1,
        "end": 36
      }
    },
    {
      "id": "DATA-907",
      "kind": "data_contracts",
      "scope": "tooling.prompt",
      "status": "draft",
      "spec_title": "DATA-907: Prompt Bundle — ContextBundle → LLM Prompt Bundle (JSON)",
      "role": "data",
      "file": "data_contracts/DATA-907_prompt_bundle.md",
      "llm_brief": "- role: このファイルは、IF-970（Prompt Bundle Builder）が生成する  \n  **「LLM にそのまま渡せるプロンプト構造（PromptBundle）」のデータ構造**を定義する data_contract です。\n- llm_action: あなた（LLM）は IF-970 を実装するとき、この data_contract を  \n  **「prompt コマンドの JSON 出力／Python 戻り値のフォーマット」**として参照し、  \n  ここで定義された構造を持つ `PromptBundle` オブジェクトを返すコードを書いてください。",
      "summary": "- **PromptBundle** は「どの preset で、どんな system / user メッセージと、\n  どの spec コンテキスト（Markdown）を LLM に渡すか」を表現する。\n- 構造は：\n\n  - `PromptBundle` … 全体のメタ情報＋ system / user / context_markdown / context_items",
      "trace": {
        "if": [
          "IF-970"
        ],
        "data": [
          "DATA-905"
        ]
      },
      "dp": {
        "produces": [
          "DATA-907"
        ],
        "produced_by": [
          "IF-970"
        ],
        "consumes": [
          "DATA-905"
        ],
        "inputs": [
          "iori_spec_config.yaml",
          "Markdown specs (*.md)"
        ]
      },
      "doc": {
        "read_next": [
          "DATA-905_context_bundle.md",
          "interfaces/IF-970_prompt_bundle_builder.md"
        ],
        "see_also": [
          "interfaces/IF-960_context_builder.md",
          "impl_notes/spec_command.md"
        ]
      },
      "hash": "e093329cd1f2b6677fbe2d1d15ebb4c562f1eff4165eb5d9bf28e9cc4c83de0b",
      "frontmatter_range": {
        "start": 1,
        "end": 35
      }
    },
    {
      "id": "DATA-910",
      "kind": "data_contracts",
      "scope": "tooling.config",
      "status": "draft",
      "spec_title": "DATA-910: iori_spec_config — Project-wide Config (YAML)",
      "role": "data",
      "file": "data_contracts/DATA-910_iori_spec_config.md",
      "llm_brief": "- role: このファイルは、`reference/iori_spec_config.yaml` の **構造と意味** を定義する\n  data_contract です。  \n- llm_action: あなた（LLM）は、`IF-910 / IF-920 / IF-960 / IF-970` などを実装するとき、\n  この data_contract を **「設定ファイルのスキーマ」** として参照し、\n  Python で `IoriSpecConfig` 的なデータクラス／型を定義して読み書きしてください。",
      "summary": "- `iori_spec_config.yaml` は、仕様ツール全体の **パス・kind/scope・プリセット** を機械可読に定義する SSOT である。\n- IF-910/920/960/970 などすべてのコマンドは、この設定を経由して入出力先や許容値を決定する。\n- 人間向けの地図（README_SPEC 等）は補助であり、正式な値の定義は常に本 config に従う。\n\n---",
      "trace": {
        "if": [
          "IF-910",
          "IF-920",
          "IF-960",
          "IF-970"
        ],
        "data": [
          "DATA-900",
          "DATA-901",
          "DATA-905",
          "DATA-907"
        ]
      },
      "dp": {
        "produces": [
          "DATA-910"
        ],
        "inputs": [
          "reference/iori_spec_config.yaml"
        ]
      },
      "doc": {
        "read_next": [
          "DATA-900_spec_index.md",
          "DATA-901_iori_spec_section_schema_guide.md",
          "interfaces/IF-910_spec_index_builder.md",
          "interfaces/IF-920_lint_core.md",
          "interfaces/IF-960_context_builder.md",
          "interfaces/IF-970_prompt_bundle_builder.md"
        ],
        "see_also": [
          "reference/iori_spec_guide.md"
        ]
      },
      "hash": "c9eacd0b6c81c57b16a258a5277b742e4f27b5dd2e1971a825eca8caab31b0a1",
      "frontmatter_range": {
        "start": 1,
        "end": 41
      }
    },
    {
      "id": "IF-900",
      "kind": "interfaces",
      "scope": "tooling.cli",
      "status": "draft",
      "spec_title": "IF-900: iori-spec CLI — Command-Line Interface",
      "role": "if",
      "file": "interfaces/IF-900_tooling_cli.md",
      "llm_brief": "- role: この IF は、`iori-spec` CLI の **サブコマンド構成・オプション・入出力・Exit Code** を定義します。\n- llm_action: あなた（LLM）は、`iori_spec.cli` や `iori_spec.commands.*` を実装するとき、\n  この IF-900 を **「CLI レイヤの仕様」** として参照し、\n  - ここで定義されたコマンド名・オプション名\n  - `--format json` 時の DATA-9xx 対応",
      "summary": "- `iori-spec` の CLI エントリポイントとして、index/lint/trace-lint/search/impact/context/prompt を提供する。\n- すべてのコマンドが DATA-910 を起点に環境を解決し、DATA-9xx を入出力として扱う。\n\n---",
      "trace": {
        "req": [
          "REQ-800"
        ],
        "if": [
          "IF-910",
          "IF-920",
          "IF-930",
          "IF-940",
          "IF-950",
          "IF-960",
          "IF-970"
        ],
        "data": [
          "DATA-900",
          "DATA-901",
          "DATA-902",
          "DATA-904",
          "DATA-905",
          "DATA-906",
          "DATA-907",
          "DATA-910"
        ]
      },
      "dp": {
        "produced_by": [
          "IF-900"
        ],
        "consumes": [
          "DATA-910"
        ],
        "inputs": [
          "reference/iori_spec_config.yaml"
        ]
      },
      "doc": {
        "read_next": [
          "requirements/REQ-800_tooling_cli.md",
          "architecture/ARCH-900_tooling_core.md",
          "data_contracts/DATA-910_iori_spec_config.md",
          "interfaces/IF-910_spec_index_builder.md",
          "interfaces/IF-920_lint_core.md",
          "interfaces/IF-930_trace_lint.md",
          "interfaces/IF-940_search_specs.md",
          "interfaces/IF-950_impact_analyzer.md",
          "interfaces/IF-960_context_builder.md",
          "interfaces/IF-970_prompt_bundle_builder.md"
        ],
        "see_also": [
          "dev-plan.md",
          "reference/iori_spec_guide.md"
        ]
      },
      "hash": "82637e4d8ff3dcd1e92dfce6329f0129bea7eafd635c211bf941e29535b33a16",
      "frontmatter_range": {
        "start": 1,
        "end": 55
      }
    },
    {
      "id": "IF-910",
      "kind": "interfaces",
      "scope": "tooling.spec_index",
      "status": "draft",
      "spec_title": "IF-910: Spec Index Builder — Markdown Specs → spec_index.json",
      "role": "if",
      "file": "interfaces/IF-910_spec_index_builder.md",
      "llm_brief": "- role: この IF は、`--root` 以下の Markdown 仕様ファイル群から `DATA-900` で定義された `spec_index.json` を生成する **インデックスビルダー・モジュールの振る舞い**を定義します。\n- llm_action: あなた（LLM）はこの IF を読み、DATA-900 の data_contract を満たす `spec_index.json` を生成する **Python モジュール／CLI サブコマンド（`iori-spec index`）のコード**を書いてください。spec_index.json を直接出力するのではなく、「こう振る舞う index ビルダーを実装する」ことがゴールです。",
      "summary": "- Markdown 仕様群を走査し、front matter と本文から ID / kind / scope / trace / dp / doc を抽出して DATA-900 を構築する。\n- DATA-901 を利用できる場合は `llm_brief` / summary も抽出する。\n\n---",
      "trace": {
        "data": [
          "DATA-900",
          "DATA-901"
        ]
      },
      "dp": {
        "produces": [
          "DATA-900"
        ],
        "consumes": [
          "DATA-901"
        ],
        "inputs": [
          "iori_spec_config.yaml",
          "Markdown specs (*.md)"
        ]
      },
      "doc": {
        "read_next": [
          "DATA-900",
          "DATA-901"
        ],
        "see_also": [
          "reference/iori_spec_guide.md"
        ]
      },
      "hash": "846336b448a6e9b30a32fca35d2a9a0f32c9b61a280218305731e84000658448",
      "frontmatter_range": {
        "start": 1,
        "end": 33
      }
    },
    {
      "id": "IF-920",
      "kind": "interfaces",
      "scope": "tooling.lint",
      "status": "draft",
      "spec_title": "IF-920: Lint Core — frontmatter / sections / ids",
      "role": "if",
      "file": "interfaces/IF-920_lint_core.md",
      "llm_brief": "- role: この IF は、`iori-spec` の仕様ファイル群に対して行う **構造・メタ情報 lint（frontmatter / sections / ids）** のコアロジックを定義します。\n- llm_action: あなた（LLM）はこの IF と DATA-900 / DATA-901 を読み、`iori-spec lint` コマンドの中核となる **Python モジュール（lint コア）** を設計・実装してください。仕様ファイルそのものや `spec_index.json` / `spec_section_schema.yaml` を入力として、ここで定義されたルールに従って lint 結果を返すコードを書くことが目的です。",
      "summary": "- Markdown 仕様の front matter・見出し・ID を静的検査し、FM-xxx / SEC-xxx / ID-xxx ルールで Issue を返す。\n- 有効な kind/scope は DATA-910 を参照し、必須セクションは DATA-901 を基準にする。\n\n---",
      "trace": {
        "if": [
          "IF-910"
        ],
        "data": [
          "DATA-900",
          "DATA-901"
        ]
      },
      "dp": {
        "consumes": [
          "DATA-900",
          "DATA-901"
        ],
        "inputs": [
          "iori_spec_config.yaml",
          "Markdown specs (*.md)"
        ]
      },
      "doc": {
        "read_next": [
          "DATA-900",
          "DATA-901",
          "reference/iori_spec_guide.md"
        ],
        "see_also": [
          "impl_notes/spec_command.md"
        ]
      },
      "hash": "4c2f41e03fc6a1a35c9c52acb8466dd27007aa833802a8951860ae1ca1fac1c8",
      "frontmatter_range": {
        "start": 1,
        "end": 35
      }
    },
    {
      "id": "IF-930",
      "kind": "interfaces",
      "scope": "tooling.lint.trace",
      "status": "draft",
      "spec_title": "IF-930: Trace Lint — REQ / IF / DATA / TEST Coverage",
      "role": "if",
      "file": "interfaces/IF-930_trace_lint.md",
      "llm_brief": "- role: この IF は、`spec_index.json`（DATA-900）を入力として、REQ / IF / DATA / TEST / TASK 間の **トレーサビリティ（つながり具合）の健全性を検査する trace lint のコアロジック**を定義します。\n- llm_action: あなた（LLM）はこの IF と DATA-900 を読み、`iori-spec trace-lint` コマンドの中核となる **Python モジュール（trace lint コア）** を設計・実装してください。仕様ファイル群を直接読むのではなく、「SpecIndex（DATA-900）を読み込んでトレースグラフを検査し、LintIssue の一覧を返す」コードを書くことが目的です。",
      "summary": "- SpecIndex から G_trace を構築し、REQ ⇔ IF/DATA/TEST のリンク不足・存在しない ID 参照・孤立ノードを検出する lint を定義する。\n- TASK は coverage 判定の対象外（警告のみ）とし、開発タスクの参考情報として扱う。\n\n---",
      "trace": {
        "if": [
          "IF-910",
          "IF-920"
        ],
        "data": [
          "DATA-900"
        ]
      },
      "dp": {
        "consumes": [
          "DATA-900"
        ]
      },
      "doc": {
        "read_next": [
          "DATA-900",
          "interfaces/IF-920_lint_core.md",
          "reference/iori_spec_guide.md"
        ],
        "see_also": [
          "impl_notes/spec_command.md"
        ]
      },
      "hash": "417ceeaaf6f074f47f26ad365abec7eb7fa375bf27d1a1fde26c76d91494d1b1",
      "frontmatter_range": {
        "start": 1,
        "end": 32
      }
    },
    {
      "id": "IF-940",
      "kind": "interfaces",
      "scope": "tooling.search",
      "status": "draft",
      "spec_title": "IF-940: Search Specs — spec_index.json → ID Candidates",
      "role": "if",
      "file": "interfaces/IF-940_search_specs.md",
      "llm_brief": "- role: この IF は、`spec_index.json`（DATA-900）を入力として、仕様 ID・タイトル・スコープなどをキーワードで検索し、**ID 候補（SearchHit の一覧）**を返す search モジュールの振る舞いを定義します。\n- llm_action: あなた（LLM）はこの IF と DATA-900 を読み、`iori-spec search` コマンドの中核となる **Python モジュール（search コア）** を設計・実装してください。仕様ファイルそのものを全文検索するのではなく、「SpecIndex（DATA-900）のメタ情報だけを使って ID 候補を返す」コードを書くことが目的です。",
      "summary": "- SpecIndex の id/spec_title/scope/llm_brief/summary を対象にシンプルな検索を行い、SearchHit 配列（DATA-904）を返す。\n- kinds/scopes/roles/limit などのフィルタと、text/table/json 出力をサポートする。\n\n---",
      "trace": {
        "if": [
          "IF-910"
        ],
        "data": [
          "DATA-900"
        ]
      },
      "dp": {
        "consumes": [
          "DATA-900"
        ]
      },
      "doc": {
        "read_next": [
          "DATA-900",
          "interfaces/IF-910_spec_index_builder.md"
        ],
        "see_also": [
          "impl_notes/spec_command.md"
        ]
      },
      "hash": "1e0d52f71cb49c3c13f70ceb126961dc0b5b2d520b71dbca4e52ccf6c2bbd893",
      "frontmatter_range": {
        "start": 1,
        "end": 30
      }
    },
    {
      "id": "IF-950",
      "kind": "interfaces",
      "scope": "tooling.impact",
      "status": "draft",
      "spec_title": "IF-950: Impact Analyzer — Changed IDs → Impacted Specs",
      "role": "if",
      "file": "interfaces/IF-950_impact_analyzer.md",
      "llm_brief": "- role: この IF は、`spec_index.json`（DATA-900）を入力として、  \n  **「どの REQ / IF / DATA / TEST / TASK を変更したら、どの spec が影響を受けるか」**を計算する  \n  **Impact Analyzer（影響範囲分析モジュール）の振る舞い**を定義します。\n- llm_action: あなた（LLM）はこの IF と DATA-900 を読み、`iori-spec impact` コマンドの中核となる  \n  **Python モジュール（impact コア）** を設計・実装してください。",
      "summary": "- SpecIndex から G_trace/G_dp/G_doc を組み合わせ、指定 ID からの近傍ノードを BFS で列挙する impact 分析のインターフェイスを定義する。\n- 方向（upstream/downstream/both）や距離、roles、docリンクの有無で探索範囲を制御し、ImpactReport（DATA-906）を生成する。\n\n---",
      "trace": {
        "if": [
          "IF-910",
          "IF-930"
        ],
        "data": [
          "DATA-900",
          "DATA-905"
        ]
      },
      "dp": {
        "consumes": [
          "DATA-900"
        ]
      },
      "doc": {
        "read_next": [
          "DATA-900",
          "interfaces/IF-910_spec_index_builder.md",
          "interfaces/IF-930_trace_lint.md",
          "interfaces/IF-960_context_builder.md"
        ],
        "see_also": [
          "impl_notes/spec_command.md"
        ]
      },
      "hash": "4e5b7798d74b65e93d53eb85fcddc1b736b796d7771ce2b8a06b1e38532f95cb",
      "frontmatter_range": {
        "start": 1,
        "end": 34
      }
    },
    {
      "id": "IF-960",
      "kind": "interfaces",
      "scope": "tooling.context",
      "status": "draft",
      "spec_title": "IF-960: Context Builder — Spec IDs → LLM Context Bundle",
      "role": "if",
      "file": "interfaces/IF-960_context_builder.md",
      "llm_brief": "- role: この IF は、`spec_index.json`（DATA-900）と `spec_section_schema.yaml`（DATA-901）を入力として、  \n  1つ以上の **種 ID（seed_ids）** から「LLM に渡すべき最小限かつ十分なコンテキスト」を組み立てる **コンテキストビルダー**の振る舞いを定義します。\n- llm_action: あなた（LLM）はこの IF と DATA-900 / DATA-901 を読み、`iori-spec context` コマンドの中核となる **Python モジュール（context コア）** を設計・実装してください。  \n  仕様そのものを直接要約するのではなく、「どの spec / セクションを選び、どの順番で LLM に渡すか」を決めるコードを書くことが目的です。",
      "summary": "- SpecIndex を起点に seed ID と近傍 ID を決定し、セクションスキーマに従って本文を抽出・整形した ContextBundle（DATA-905）を生成する。\n- 探索範囲（radius/roles/docリンク）と抽出ルールを切り替え可能にする。\n\n---",
      "trace": {
        "if": [
          "IF-910",
          "IF-920",
          "IF-930"
        ],
        "data": [
          "DATA-900",
          "DATA-901"
        ]
      },
      "dp": {
        "consumes": [
          "DATA-900",
          "DATA-901"
        ],
        "inputs": [
          "iori_spec_config.yaml"
        ]
      },
      "doc": {
        "read_next": [
          "DATA-900",
          "DATA-901",
          "interfaces/IF-910_spec_index_builder.md",
          "reference/iori_spec_guide.md"
        ],
        "see_also": [
          "impl_notes/spec_command.md"
        ]
      },
      "hash": "252c04734ba12b46c88706992022404d6b2fe4ed539c65d0572940383c70fbc8",
      "frontmatter_range": {
        "start": 1,
        "end": 37
      }
    },
    {
      "id": "IF-970",
      "kind": "interfaces",
      "scope": "tooling.prompt",
      "status": "draft",
      "spec_title": "IF-970: Prompt Bundle Builder — ContextBundle → LLM Prompt Bundle",
      "role": "if",
      "file": "interfaces/IF-970_prompt_bundle_builder.md",
      "llm_brief": "- role: この IF は、ContextBundle（DATA-905）を入力として、  \n  **「LLM にそのまま投げられるプロンプト構造（PromptBundle）」** を組み立てる  \n  Prompt Builder の振る舞いを定義します。\n- llm_action: あなた（LLM）はこの IF と DATA-905 を読み、  \n  `build_prompt_bundle(context_bundle, preset=...) -> PromptBundle` のような",
      "summary": "- ContextBundle を入力に、preset/language/extra_instruction に応じた PromptBundle（DATA-907）を構築する。\n- system/user/context_markdown を組み立て、LLM 呼び出しに直接渡せる形を定義する。\n\n---",
      "trace": {
        "if": [
          "IF-960"
        ],
        "data": [
          "DATA-905"
        ]
      },
      "dp": {
        "produced_by": [
          "IF-970"
        ],
        "consumes": [
          "DATA-905"
        ],
        "inputs": [
          "iori_spec_config.yaml"
        ]
      },
      "doc": {
        "read_next": [
          "DATA-905_context_bundle.md",
          "interfaces/IF-960_context_builder.md",
          "reference/iori_spec_guide.md"
        ],
        "see_also": [
          "impl_notes/spec_command.md"
        ]
      },
      "hash": "2f231538a3ee337916dd7424a739bf35c1720931faab907df2d410a1c92b44c8",
      "frontmatter_range": {
        "start": 1,
        "end": 35
      }
    },
    {
      "id": "REF-100",
      "kind": "reference",
      "scope": "meta",
      "status": "review",
      "spec_title": "仕様書の書き方・ID/構造ルール",
      "role": "ref",
      "file": "reference/iori_spec_guide.md",
      "llm_brief": "仕様書の型・IDルール・front matter 必須項目をまとめた基準書。iori-spec の lint / index / trace が前提とする仕様形状をここで定義する。",
      "summary": null,
      "trace": null,
      "dp": null,
      "doc": null,
      "hash": "233b99610a9b7d91cb2ffccd25ebeca5780d326fd97ddd3e0affc303b4b83de1",
      "frontmatter_range": {
        "start": 1,
        "end": 7
      }
    },
    {
      "id": "REF-101",
      "kind": "reference",
      "scope": "meta",
      "status": "review",
      "spec_title": "Section Schema Guide",
      "role": "ref",
      "file": "reference/iori_spec_section_schema_guide.md",
      "llm_brief": "`spec_section_schema.yaml` に書かれたセクション構造ルールを、人間と LLM が理解しやすいように自然言語で説明するガイド。どの kind に何の見出しが必要か、どこを iori-spec が機械的に読むかを素早く把握できる。",
      "summary": null,
      "trace": null,
      "dp": null,
      "doc": null,
      "hash": "44a42dbb43fdac31e2446e3a0e16bdea161a8a7e0b98261e181cad444d8d400a",
      "frontmatter_range": {
        "start": 1,
        "end": 7
      }
    },
    {
      "id": "REF-103",
      "kind": "reference",
      "scope": "meta",
      "status": "draft",
      "spec_title": "SDD プロセスガイド",
      "role": "ref",
      "file": "reference/sdd_process_guide.md",
      "llm_brief": "Specification Driven Development（SDD）を iori-spec で回すための手順書。要求→設計→タスク→実装→検証まで、どのタイミングでどの仕様/コマンド/チェックを使うかを整理し、人間と LLM が同じフローを踏めるようにする。",
      "summary": null,
      "trace": null,
      "dp": null,
      "doc": null,
      "hash": "98dc6c920f6693273d0a70cf99b6e3924a58aec00c1fb991f3dc15c3d31ab81f",
      "frontmatter_range": {
        "start": 1,
        "end": 7
      }
    },
    {
      "id": "REQ-800",
      "kind": "requirements",
      "scope": "tooling.cli",
      "status": "draft",
      "spec_title": "REQ-800: iori-spec CLI ? Core Tooling Requirements",
      "role": "req",
      "file": "requirements/REQ-800_tooling_cli.md",
      "llm_brief": "- role: このドキュメントは、`iori-spec` CLI ツールが満たすべき **ユーザー視点の要求（Requirements）** を定義します。\n- llm_action: あなた（LLM）は、`interfaces/IF-9xx_*.md` や `data_contracts/DATA-9xx_*.md` を実装・修正するとき、この REQ を **上位のゴール** として参照し、ここに書かれた振る舞い・制約を壊さないようにしてください。CLI の細かい I/O 仕様は IF / DATA に委ねられますが、ここで定義された「MUST / SHOULD レベルの要求」を外れない実装を行うことが目的です。",
      "summary": "- `iori-spec` CLI は、仕様の一覧・検索・Lint・トレース・影響分析・コンテキスト生成・プロンプト生成を統一的に提供し、仕様駆動開発を支援する。\n- すべてのコマンドは `DATA-910_iori_spec_config` を基に動作し、`DATA-900_spec_index` を SSOT として利用する。\n- JSON 出力は対応する DATA-9xx schema に準拠し（未定義の schema は今後追加検討）、CI / 自動化で再現性を担保する。",
      "trace": {
        "if": [
          "IF-910",
          "IF-920",
          "IF-930",
          "IF-940",
          "IF-950",
          "IF-960",
          "IF-970"
        ],
        "data": [
          "DATA-900",
          "DATA-901",
          "DATA-904",
          "DATA-905",
          "DATA-906",
          "DATA-907",
          "DATA-910"
        ]
      },
      "dp": {
        "produces": [
          "DATA-900",
          "DATA-904",
          "DATA-905",
          "DATA-906",
          "DATA-907"
        ],
        "consumes": [
          "DATA-901",
          "DATA-910"
        ]
      },
      "doc": {
        "read_next": [
          "dev-plan.md",
          "DATA-910_iori_spec_config.md",
          "interfaces/IF-910_spec_index_builder.md",
          "interfaces/IF-920_lint_core.md",
          "interfaces/IF-930_trace_lint.md",
          "interfaces/IF-940_search_specs.md",
          "interfaces/IF-950_impact_analyzer.md",
          "interfaces/IF-960_context_builder.md",
          "interfaces/IF-970_prompt_bundle_builder.md"
        ],
        "see_also": [
          "reference/iori_spec_guide.md"
        ]
      },
      "hash": "12244219f332f231ae28d20ff3c3811c356791b3cd326afa4c77c92e99af5e95",
      "frontmatter_range": {
        "start": 1,
        "end": 55
      }
    },
    {
      "id": "STEER-001",
      "kind": "steering",
      "scope": "meta",
      "status": "draft",
      "spec_title": "iori-spec プロダクト指針",
      "role": "steering",
      "file": "steering/product.md",
      "llm_brief": "仕様書を解析・索引化し、lint / trace / impact / context / prompt を行うツールセット「iori-spec」のプロダクト方向性を示す。対象は仕様を書く人と、それを活用して開発・レビュー・プロンプト生成を行う人/LLM。",
      "summary": null,
      "trace": null,
      "dp": null,
      "doc": null,
      "hash": "5b70edea4005ee73722ac71352a92cf65618311d8ce86048fd03bfaa14f85005",
      "frontmatter_range": {
        "start": 1,
        "end": 7
      }
    },
    {
      "id": "STEER-002",
      "kind": "steering",
      "scope": "meta",
      "status": "draft",
      "spec_title": "iori-spec 技術方針",
      "role": "steering",
      "file": "steering/tech.md",
      "llm_brief": "仕様解析・索引・lint・trace・impact・context・prompt を行うツールチェーン「iori-spec」の技術方針をまとめる。Python を中核に、SpecIndex を SSOT とした CLI/ライブラリ群を安定運用し、LLM 連携を前提にした拡張性・再現性を確保する。",
      "summary": null,
      "trace": null,
      "dp": null,
      "doc": null,
      "hash": "1c3ea4a561a1887f8087110016b31eae149de1607d527720250d6d2326ae1fb5",
      "frontmatter_range": {
        "start": 1,
        "end": 7
      }
    }
  ]
}