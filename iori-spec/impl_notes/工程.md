# A. まず“メタ仕様（Spec System）”をコアとして追加する

これが Stable Core（安定側）に相当します。どのプロジェクトにも共通で流用できます。

- **SPEC-SYS-001 仕様書システム運用ガイド（Authoring / Review / Reference Flow）**

  - 1ファイル1ID、命名、粒度、禁止事項（巨大化・曖昧参照）
  - LLM_BRIEF / READ_NEXT / include_in（pack を中心に） の使い方
  - 新規作成・修正・参照の標準フロー

- **SPEC-SYS-002 仕様書スキーマ（セクション定義）**

  - kindごとの必須/任意セクション
  - `include_in`（index / render / pack）による抽出対象
  - “局所コンテキスト”として安全に渡せる範囲（`include_in: pack`）

- **SPEC-SYS-003 トレーサビリティ規約**

  - trace の意味（REQ→IF/DATA/TEST 等：satisfied_by / verified_by / depends_on）
  - 必須カバレッジ最小条件（REQ の `trace.satisfied_by` / `trace.verified_by`）
  - lint ルールID体系と重大度（ERROR/WARN/INFO）・プロファイルの扱い（CIゲートは SPEC-SYS-005 に委譲）

- **SPEC-SYS-004 安定契約（Stable Core Contract）**

  - index（SSoT）・pack（context pack）・lint report のデータ契約と互換性方針（contract versioning / extensions）
  - 決定性（同入力→同出力）、正規化・順序規約（※ 終了コード / CIゲートは SPEC-SYS-005）

- **SPEC-SYS-005 ツール仕様（静的解析・局所化）**

  - index / pack / lint（構造lint + trace-lint）/ Quality Gate / exit code の入出力仕様
  - CIゲート条件（何をブロックするか、重大度プロファイルの切替）
  - （注）search / impact のランキング・ヒューリスティクス等は Edge（Stable Core 外）

- **STEER-001 プロダクト指針（目的・非目的・成功指標）**

  - プロジェクトの狙い、対象ユーザー、提供価値
  - 非目的（やらないこと）、スコープ境界
  - 成功指標（定量/KPI＋定性）と優先順位
  - 主要ユースケースのサマリ（詳細は REQ に委譲）

- **STEER-002 技術指針（設計原則・Stable Core 境界・互換性方針）**

  - 依存方向（内→外禁止）、Port/Adapter 方針
  - 互換性・変更管理（破壊的変更の定義、Versioning、Deprecation）
  - 品質基準（SLO/性能/信頼性/セキュリティ）とトレードオフ原則
  - 実装自由度の範囲（拡張領域の位置づけ）

- **REQ-* 機能要求（原子化：1ファイル1要求）**

  - ユーザー価値に紐づいた“テスト可能”粒度で分割
  - Invariants（不変条件）と Acceptance Criteria を必須化
  - `trace.satisfied_by` で最低限 IF を 1 件以上、`trace.verified_by` で最低限 TEST を 1 件以上を結ぶ（実装可能性と検証可能性）
  - DATA が要件上必須なら `coverage_hints.data: required` を明示し、`trace.satisfied_by` に DATA を 1 件以上含める
  - READ_NEXT で関連要求・前提要求へ誘導（局所推論の導線）

- **IF-* / DATA-* / TEST-* 境界・データ・検証（REQから抽出して並行整備）**

  - IF：モジュール境界（API/CLI/イベント/ジョブ）をユースケース単位で定義
  - DATA：スキーマ、フォーマット、互換性（Expand→Migrate→Contract）を定義
  - TEST：REQ/NFRに対応するテスト観点と合否基準（自動/手動/観測）を定義
  - いずれも REQ から引き出して `trace` で結線し、最小条件（satisfied_by/verified_by 等）を `trace-lint` で検証する

- **ARCH-* アーキテクチャ（薄く：全体像＋境界。詳細は IF/DATA/ADR へ）**

  - 全体構成図（モジュール、主要フロー、データ流れ）と境界（責務分割）
  - Stable Core の位置、拡張点、依存ルール（循環禁止など）
  - 詳細設計・意思決定の根拠は ADR に退避し、ARCH は“迷子防止の地図”に徹する
  - 変更時は impact 分析 / pack 生成の seed になる情報（主要IDリンク）を必ず保持

1. **SPEC-SYS-002（セクションスキーマ）**
2. **SPEC-SYS-003（トレーサビリティ規約）**
3. **SPEC-SYS-004（安定契約：index/pack/lint report/互換性・決定性）**
4. **SPEC-SYS-005（ツール仕様：lint/pack/Quality Gate/exit code…）**
5. **SPEC-SYS-001（仕様書システム運用ガイド：新規/修正/参照フロー）**
6. STEER-001（目的・非目的・成功指標）
7. STEER-002（技術原則：Stable Core境界・互換性方針）
8. REQ を原子化して投入（1ファイル1要求）
9. 並行して IF/DATA/TEST を REQ から引き出す
10. ARCH は薄く（全体像＋境界）を保ち、詳細は IF/DATA/ADR に寄せる
